<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <title>Ventas WebApp</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
</head>
<body>
    <h1>Lunita Val | Ventas</h1>



    <!-- Formulario para crear venta -->
     <div id="headerForm" style="display:flex; justify-content: space-between; align-items: center; max-width: 700px; margin: 0 auto 10px auto;">
    <h2>Crear venta</h2>
        <!-- Botón nuevo cliente -->
    <button type="button" id="btnNewCustomer">Nuevo cliente</button>
     </div>
    <div id="formContainer" style="display:flex; gap:20px; max-width: none;">
    <form id="saleForm" style="flex:1;">
        <label>
            Cliente:
            <input type="text" id="customer_name" placeholder="Escriba nombre o apellido" autocomplete="off">
            <div id="suggestions" style="border:1px solid #ccc; max-height:150px; overflow-y:auto; background:#fff;"></div>
        </label>
        <input type="hidden" id="customer_id">

        <!-- Información del cliente seleccionado -->
        <div id="customer_info" style="border:1px solid #ccc; padding:10px; margin-top:10px; display:none;">
            <h3>Datos del cliente</h3>
            <p><strong>Nombre:</strong> <span id="info_name"></span></p>
            <p><strong>Dirección:</strong> <span id="info_address"></span></p>
            <p><strong>Localidad:</strong> <span id="info_city"></span></p>
        </div>

        <label>
            Monto:
            <input type="number" step="0.01" id="amount" required>
        </label><br>

        <label>
            Método de pago:
            <select id="payment_method">
                <option value="transfer">Transferencia</option>
                <option value="card">Tarjeta/QR</option>
                <option value="cash">Efectivo</option>
            </select>
        </label><br>

        <label>
            Pagado:
            <select id="paid">
                <option value="true">Sí</option>
                <option value="false">No</option>
            </select>
        </label>

            <h4>Aclaración:</h4>
                <input type="text" id="customer_note" placeholder="Aclaraciones(Cambios/pedido en efectivo/dejar en porteria)">
            
        

        <button type="submit">Crear venta</button>
    </form>
        <div id="customerFormDiv" style="display:none; flex:1; min-width:0; border:1px solid #ccc; padding:10px;">
        <h3 id="customerFormTitle">Crear Cliente</h3>
        <form id="customerForm">
            <input type="hidden" id="customerFormId">
            
            <label>Nombre: <input type="text" id="cf_first_name" required></label><br>
            <label>Apellido: <input type="text" id="cf_last_name" required></label><br>
            <label>Dirección: <input type="text" id="cf_address" required></label><br>
            <label>Localidad: <input type="text" id="cf_city" required></label><br>
            <label>Teléfono: <input type="text" id="cf_phone" required></label><br>
            <label>Descripción: <textarea id="cf_description"></textarea></label><br>

            <button type="submit">Guardar</button>
            <button type="button" id="customerFormCancel">Cancelar</button>
        </form>
    </div>
</div>
    <!-- Formulario para crear clientes -->


    <hr>

    <!-- Lista de ventas -->
     <div id="headerForm" style="display:flex; justify-content: space-between; align-items: center; max-width: 700px; margin: 0 auto 10px auto;">
    <h2 style="display:flex; align-items:center; justify-content: space-between;">Ultimas Ventas</h2>

        <a href="{{ url_for('explore_sales') }}">
        <button id="btnNewCustomer">Ver más</button>
    </a>
    
    </div>
    <div id="headerForm" style="display:flex; justify-content: space-between; align-items: center; max-width: 60%; margin: 0 auto 10px auto;">
    <table border="1" id="salesTable">
        <thead>
            <tr>
                <th>Fecha</th>
                <th>Cliente</th>
                <th>Monto</th>
                <th>Método</th>
                <th>Pago</th>
                <th>Acciones</th>
            </tr>
        </thead>
        <tbody></tbody>
    </table>
</div>

<script src="{{ url_for('static', filename='js/ventas.js') }}"></script>

</body>
</html>

</body>
</html>
